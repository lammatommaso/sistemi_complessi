<!DOCTYPE html>
<html>

    <head>
        <meta charset="UTF-8">
        <title>Babylon JS Electron App</title>
        <style>
            html,
            body {
                overflow: hidden;
                width: 100%;
                height: 100%;
                margin: 0;
                padding: 0;
            }
        </style>
        <link rel="stylesheet" href="../css/index.css">
        <script>            
            const { ipcRenderer } = require('electron')
        </script>
        <script src="../node_modules/babylonjs/babylon.js"></script>
    </head>

    <body>
        <div id="menu" >
            <h1>Comandi:</h1> <br/>
            <h2>
                <span class="keyboard-key">A</span>: sinistra <br/>
                <span class="keyboard-key">D</span>: destra <br/>
                <span class="keyboard-key">W</span>: avanti <br/>
                <span class="keyboard-key">S</span>: indietro <br/>
                <span class="keyboard-key">Q</span>: zoom avanti <br/>
                <span class="keyboard-key">Z</span>: zoom indietro <br/>
            </h2>
        </div>
        <div id="main">
            <canvas id="render-canvas"></canvas>
        </div>
        
    </body>

    <script src="../javascript/renderer.js"></script>

    <script>   
        //ipcRenderer.send("init") 
        ipcRenderer.on("grafo", (grafo) => {
            console.log("ecco il grafo da disegnare")
            console.log(grafo)
        })

        ipcRenderer.on("disegnami", (roba_da_disegnare) => {
            console.log("devo disegnare roba: " + roba_da_disegnare)
        })

    </script>

    <!-- <script src="../javascript/GeoJSONparser.js"></script> -->
    <script src="../javascript/grafo.js"></script>
    <script src="../javascript/macchine.js"></script>
    <script>
        var g = new Grafo(6);
        g.draw();

        var m = new Macchine(1);
        //const coordinate = g.street2coordinates(0, 1)
        const id = 0
        //m.draw(id, coordinate[0], 2, coordinate[1], coordinate[2], coordinate[3], coordinate[4])

        for (i= 0; i < 36; i++){
            for (j = 0; j < 36; j++){
                const coordinate = g.street2coordinates(i, j)
                if (coordinate[0]!=0 && coordinate[0] < lato1/2 && coordinate[0] > -lato1/2)
                    m.draw(id, coordinate[0], 0, coordinate[1], coordinate[2], coordinate[3], coordinate[4])

            }
        }

    </script>

</html>
